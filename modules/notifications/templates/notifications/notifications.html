{% extends "core/base.html" %}
{% load static %}
{% load notify_extras %}
{% block title %}Notifications - COLLABoard{% endblock %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'notifications/css/notifications.css' %}">
{% endblock %}
{% block content %}
<section class="notifications-container">
  <h1 class="page-title">üì¢ Notifications</h1>
  <p class="page-subtitle">All your latest alerts, updates, and announcements.</p>
  <div class="notifications-list" id="fullNotificationsList">
    {% for n in items %}
      <div class="notif-card" data-id="{{ n.id }}">
        <div class="notif-icon">{% if n.is_urgent %}‚ö†Ô∏è{% else %}üîî{% endif %}</div>
        <div class="notif-content">
          <h3>{{ n.content|notif_title }}</h3>
          {% with n.content|notif_body as body %}
            {% if body %}<p>{{ body }}</p>{% else %}<p class="muted">‚Äî</p>{% endif %}
          {% endwith %}
          <time datetime="{{ n.created_at|date:'c' }}">{{ n.created_at|timesince }} ago</time>
        </div>
      </div>
    {% empty %}
      <p>No notifications yet.</p>
    {% endfor %}
  </div>
</section>
{% endblock %}
{% block extra_js %}
<script src="{% static 'notifications/js/notifications_live.js' %}" defer></script>
{% endblock %}
